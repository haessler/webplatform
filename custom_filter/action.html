<html>
<head>
<title>CSS custom filters + keyframes (Webkit nightly | Canary)</title>

<style>

/*
url(shaders
url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders
http://letmespellitoutforyou.com/t/action.html
*/

body {
    padding: 0.5in;
}

img {
/*    outline: thick solid transparent; */
    -webkit-animation: dance 4s 8s infinite alternate both;
    max-height: 700px;
}

@-webkit-keyframes dance {

 from {
    outline: thick solid white;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.507, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
 }

 10% {
    outline: thick solid red;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.514, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.643, -0.136, 0, -0.271, -0.15, 0, 0.167, -0.167, 0, 0.171, -0.143, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.3, 0.5, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.643, 0.514, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 20% {
    outline: thick solid plum;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.364, -0.371, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.364, -0.414, 0, -0.293, -0.164, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.643, -0.186, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.643, 0.507, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.321, 0.507, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 30% {
    outline: thick solid green;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.357, -0.329, 0, 0.314, -0.329, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.35, 0.364, 0, 0.336, 0.357, 0, 0.5, 0.167, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.5, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 40% {
    outline: thick solid gold;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.164, -0.643, 0, 0.164, -0.643, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.164, -0.014, 0, 0.171, -0.05, 0, 0.5, 0.167, 0, -0.5, 0.5, 0, -0.157, 0.143, 0, 0.171, 0.236, 0, 0.5, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 50% {
    outline: thick solid blue;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.507, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 60% {
    outline: thick solid lightgreen;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.371, -0.157, 0, -0.179, -0.143, 0, 0, -0.15, 0, -0.5, 0.167, 0, -0.35, 0.179, 0, -0.193, 0.179, 0, 0.071, 0.171, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.164, 0.479, 0, 0.5, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 70% {
    outline: thick solid pink;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, 0.036, -0.193, 0, 0.193, -0.186, 0, 0.336, -0.186, 0, 0.5, -0.15, 0, 0.093, 0.164, 0, 0.229, 0.179, 0, 0.393, 0.179, 0, 0.5, 0.179, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.164, 0.479, 0, 0.5, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

 80% {
    outline: thick solid lightblue;

   -webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20, backColor 1 1 1 1, k array(-0.393, -0.357, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.371, -0.014, 0, -0.5, -0.167, 0, -0.293, -0.286, 0, 0.293, -0.3, 0, 0.5, -0.167, 0, -0.036, -0.036, 0, -0.229, 0.243, 0, -0.4, -0.514, 0, 0.5, 0.167, 0, -0.5, 0.129, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.486, 0.464, 0), matrix matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, -0.001, 0, 0, 0, 1), useColoredBack 1);

}

 90% {
    outline: thick solid yellow;

-webkit-filter:
custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.136, -0.05, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.414, 0.5, 0, -0.167, 0.5, 0, 0.164, 0.507, 0, 0.293, 0.236, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);

}

 to {
    outline: thick solid black;
-webkit-filter: custom(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/vertex/warp.vs) mix(url(http://html.adobe.com/webstandards/csscustomfilters/cssfilterlab/shaders/fragment/warp.fs) normal source-atop), 20 20 border-box, k array(-0.5, -0.5, 0, -0.167, -0.5, 0, 0.167, -0.5, 0, 0.5, -0.5, 0, -0.5, -0.167, 0, -0.167, -0.167, 0, 0.167, -0.167, 0, 0.5, -0.167, 0, -0.5, 0.167, 0, -0.167, 0.167, 0, 0.167, 0.167, 0, 0.5, 0.167, 0, -0.5, 0.5, 0, -0.167, 0.5, 0, 0.167, 0.5, 0, 0.507, 0.5, 0), matrix perspective(1000) scale(1) rotateX(0deg) rotateY(0deg) rotateZ(0deg), useColoredBack 1, backColor 1 1 1 1);
}

}

</style>

<style id="inject"></style>

</head>
<body>

<audio autoload src="25848.mp3" oncanplaythrough="this.play(); document.querySelector('#inject').textContent = 'img {-webkit-animation-play-state: playing }'"></audio>



<img data-step="0" src="action.png"/>

<script>
window.onload = function() {
     document.querySelector('img').addEventListener('click', function(e) {
         var s = e.currentTarget.dataset.step;
         s *= 1;
         s++;
         e.currentTarget.dataset.step = s;
         console.log(e.currentTarget);
     });
     document.querySelector('audio').addEventListener('play', function(e) {
         document.querySelector('img').style.WebkitAnimationPlayState = 'playing';


         console.log(document.querySelector('img').style.WebkitAnimationPlayState);
     });
};
</script>

</body>
</html>
