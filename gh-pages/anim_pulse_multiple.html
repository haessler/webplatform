<html>
<head>
<title>pulse animation</title>

<style>
body {
    overflow                             : hidden;
}

nav {
    font-size: 12px;
    box-sizing                           : border-box;
    position                             : absolute;
    right                                : -260px;
    top                                  : 10px;
    background-image                     : url(img/html5.png);
    background-position-x                : left;
    background-position-y                : 50%;
    background-color                     : #fff;
    height                               : 42px;
    width                                : 300px;;
    overflow                             : hidden;
    padding                              : 2px;
    border                               : transparent solid medium;
    border-radius                        : 4px;
    -webkit-box-shadow                   : 0 0 1em transparent;
    -webkit-transition                   : all 0.5s;
}

nav, nav > div {
    background-size                      : contain;
    background-repeat                    : no-repeat;
}

nav.expanded  {
    right                                : 10px;
    background-position-x                : 400px;
    border                               : #aaa solid medium; 
    -webkit-box-shadow                   : 0 0 1em #777;
    font-size: 10px;
}

nav > div {
    -webkit-transition                   : all 0.5s;
    display                              : inline-block;
    background-image                     : url(img/html5icon1.png);
    -webkit-transform                    : scale(0) translateX(100%);
    opacity                              : 0;
    height                               : 34px;
    width                                : 34px;
    margin-right: 4px;
}

nav.expanded > div {
    opacity                              : 1;
    -webkit-transform                    : scale(1) translateX(0);
}

nav.expanded > div.test {
        -webkit-transform : scale(0.75) translateX(0);
        opacity           : 0.25;
}

nav > div:nth-of-type(1) { background-image: url(img/html5icon1.png); }
nav > div:nth-of-type(2) { background-image: url(img/html5icon2.png); }
nav > div:nth-of-type(3) { background-image: url(img/html5icon3.png); }
nav > div:nth-of-type(4) { background-image: url(img/html5icon4.png); }
nav > div:nth-of-type(5) { background-image: url(img/html5icon5.png); }
nav > div:nth-of-type(6) { background-image: url(img/html5icon6.png); }
nav > div:nth-of-type(7) { background-image: url(img/html5icon7.png); }
nav > div:nth-of-type(8) { background-image: url(img/html5icon8.png); }

nav.expanded > div.selected {
    -webkit-animation: fade 0.49s infinite alternate, shrink 0.52s infinite alternate;
}

@-webkit-keyframes fade {
    from { opacity : 1; }
    to { opacity : 0.25; }
}

@-webkit-keyframes shrink {
    from { -webkit-transform : scale(1) translateX(0); }
    to { -webkit-transform : scale(0.75) translateX(0); }
}

</style>

</head>
<body>

<nav class="expanded">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div class="selected"></div>
    <div></div>
    <div></div>
    <div></div>
</nav>

<script>
window.onload = function() {
    document.querySelector('nav').addEventListener('click', function(e) {
        e.currentTarget.classList.toggle('expanded');
    });
    document.querySelector('nav').addEventListener('webkitTransitionEnd', function(e) {
        console.log(e.propertyName);
        console.log(e.elapsedTime);
//        e.currentTarget.
    });
};
</script>

</body>
</html>
