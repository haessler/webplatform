<html>
<head>
<title>SVG eyeball</title>

<style>

body {
    perspective              : 1000;
    background-color         : #ddd;
}

svg {
    background               : #eee;
    height                   : 90%;
}

ellipse#eye, #CP, g#eyeball, #iris {
    -webkit-transition       : all 1s;
    -webkit-transform-origin : center;
}

use, ellipse#eye {
    fill                     : #fff;
    fill-opacity             : 1;
    stroke                   : #777777;
    stroke-opacity           : 1;
    stroke-width             : 1;
}

#CP {
    stroke-width             : 2;
    stroke                   : "#777777";
}

</style>

</head>
<body>

<svg>

<defs>

  <ellipse id="eye" cx="100" cy="30" rx="70" ry="35"/>

  <clipPath id="CP">
    <use xlink:href="#eye" />
  </clipPath>

  <clipPath id="CP2">
    <use xlink:href="#eyelidTop" />
  </clipPath>

<radialGradient id="grad">
 <stop id="stop1" offset="0%" style="stop-color: black;"/>
 <stop id="stop2" offset="40%" style="stop-color: black;"/>
 <stop id="stop3" offset="60%" style="stop-color: lightblue;"/>
 <stop id="stop4" offset="100%" style="stop-color: lightblue"/>
</radialGradient>

<circle id="iris" stroke="#777777" stroke-width="1" fill="url(#grad)" cx="100" cy="30" r="30" clip-path="url(#CP)"  />

  <path id="eyelidTop" d="M 120,100 Q 220,40 320,100" stroke="#777" stroke-width="2"/>
  <path id="eyelidBottom" d="M 320,100 Q 220,170 120,100" stroke="#777" stroke-width="2"/>


<text id="content">
llllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllll
</text>

<text id="eyelashesTop" font-size="20" fill="#777" letter-spacing="6">
  <textPath xlink:href="#eyelidTop">
    <tref xlink:href="#content"/>
  </textPath>
</text>

<text id="eyelashesBottom" font-size="20" fill="#777" letter-spacing="6">
  <textPath xlink:href="#eyelidBottom">
    <tref xlink:href="#content"/>
  </textPath>
</text>


</defs>

<g transform="translate(0,50)">
  <use xlink:href="#eye" />
  <use xlink:href="#iris" />
</g>

<g transform="translate(250,50)">
  <use xlink:href="#eye" />
  <use xlink:href="#iris" />
</g>

<g transform="translate(0,180)">
  <use xlink:href="#eyelashesTop"/>
  <use xlink:href="#eyelidTop" />
  <use xlink:href="#eyelashesBottom" />
  <use xlink:href="#eyelidBottom" />
</svg>



<aside>

<label>ellipse.ry</label>
<input
 type             ="range"
    min           ="1"
    max           ="50"
    value         ="30"
    data-id       ="#eye"
    data-attr     ="ry"
/>


<label>circle.cx</label>
<input
    type          ="range"
    min           ="70"
    max           ="130"
    value         ="100"
    data-id       ="#iris"
    data-attr     ="cx"
/>


<label>path.d</label>
<input
    id = "pathInput"
    type          ="range"
    min           ="0"
    max           ="100"
    value         ="0"
    data-id       ="#eyelidTop"
    data-attr     ="data-pt"
/>

</aside>

<script>

var eyelidTop;
var eyelidBottom;

window.onload = function() {
    eyelidTop = document.querySelector('#eyelidTop');
    var inputs = document.querySelectorAll('select, input');
    var input;
    for (var i = 0, l = inputs.length; i < l; i++) {
        input = inputs[i];
        if (! input.dataset.prefix ) input.dataset.prefix = "";
        if (! input.dataset.suffix ) input.dataset.suffix = "";
        input.addEventListener('change', function(e) {
            var c = e.target;
            var v = c.dataset.prefix + c.value + c.dataset.suffix;
            document.querySelector(c.dataset.id).setAttribute(c.dataset.attr, v);
        });
    }
    document.querySelector('#pathInput').addEventListener('change', function(e) {
        console.log(e.target.valueAsNumber);
        eyelidTop.setAttribute('d', 'M 120,100 Q 220,' + (100 - e.target.valueAsNumber) + ' 320,100');
        eyelidBottom.setAttribute('d', 'M 320,100 Q 220,' + (100 + e.target.valueAsNumber) + ' 120,100');
    });
}

</script>

</body>
</html>
